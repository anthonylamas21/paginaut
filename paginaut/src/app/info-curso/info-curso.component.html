<!--Componente Navbar-->
<app-navbar></app-navbar>
<p id="inicio"></p>

<!--Boton de desplacamiento -->
<button id="scrollTopButton" (click)="scrollToSection('inicio')"
    class="hidden z-50 fixed bottom-5 left-1/2 transform -translate-x-1/2 bg-[#04847C] text-[#ffffff] w-12 h-12 rounded-full shadow-lg hover:bg-[#04847C] hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-[#FFFFFF] focus:ring-opacity-50">
    <i class="fa-solid fa-chevron-up"></i>
</button>

<!-- Contenedor principal flexible -->
<div class="flex flex-col min-h-screen">
  <!-- Contenido principal que puede crecer -->
  <main class="flex-grow">
    <!-- Fin Navbar -->

<ol class="flex items-center whitespace-nowrap ml-4 mt-28 mb-8">
  <li class="inline-flex items-center">
    <a
      class="flex items-center text-sm text-gray-500 hover:text-[#043D3D] focus:outline-none focus:text-[#043D3D]"
      href="/principal"
    >
      Inicio
    </a>
    <svg
      class="flex-shrink-0 mx-2 overflow-visible size-4 text-gray-400"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="m9 18 6-6-6-6"></path>
    </svg>
  </li>
  <li class="inline-flex items-center">
    <a
      class="flex items-center text-sm text-gray-500 hover:text-[#043D3D] focus:outline-none focus:text-[#043D3D]"
      href="/cursos"
    >
      Cursos
      <svg
        class="flex-shrink-0 mx-2 overflow-visible size-4 text-gray-400"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="m9 18 6-6-6-6"></path>
      </svg>
    </a>
  </li>
  <li
    class="inline-flex items-center text-sm font-semibold text-[#043D3D] truncate"
    aria-current="page"
  >
    {{curso?.nombre}}
  </li>
</ol>

<div class="container mt-28">

  <section class="sm:mt-6 lg:mt-8 mt-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="my-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28 flex gap-3 lg:flex-justify lg:flex flex-col lg:flex-row">
      <!-- Contenedor de texto -->
      <div class="sm:text-center lg:text-left lg:flex-1 lg:min-h-[400px] flex flex-col">
        <h1 class="text-4xl tracking-tight font-extrabold text-gray-800 sm:text-5xl md:text-6xl">  
          <span class="block xl:inline">{{ curso?.nombre || 'Nombre del curso' }}</span>
        </h1>
        <p class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0">
          {{ curso?.descripcion || 'Descripción del curso.' }}
        </p>
      </div>
      
      <!-- Contenedor de imagen -->
      <div class="lg:inset-y-0 lg:right-0 lg:w-1/2 my-4 lg:min-h-[400px] flex items-center justify-center">
        <img
          class="h-72 w-full object-cover sm:h-72 md:h-72 lg:w-full lg:h-full"
          [src]="getImageUrl(curso?.imagen_principal || 'ruta/de/imagen/por/defecto.jpg')"
          [alt]="curso?.nombre || 'Imagen del curso'"
        />
      </div>
    </div>
    
    

    <div class="mb-10">
      <div class="bg-[#043D3D] rounded-lg">
        <h2 class="text-xl font-semibold font-poppins py-2 px-2 text-white uppercase mb-3">
          Profesores del curso
        </h2>
      </div>
    </div>
    
    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 mb-10" *ngIf="profesores.length > 0; else noTeacher">
      <div *ngFor="let profesor of profesores" class="flex flex-col items-center text-center">
        <img class="w-56 h-56 rounded-full object-cover" [src]="getImageUrl(profesor.foto || 'paginaut/src/assets/img/perfil_vacio_2.png')" [alt]="profesor.nombre">
        <p class="text-center text-gray-800 mt-2 font-semibold">{{ profesor.nombre }} {{ profesor.apellido }}</p>
        <p class="text-center text-gray-600">{{ profesor.especialidad }}</p>
      </div>
    </div>    

    <ng-template #noTeacher>
      <div class="container max-w-screen-lg mb-12 space-y-4">
        <div class="mt-8 p-4 bg-gray-100 rounded-lg text-center shadow-lg">
        <p class="text-gray-600 text-lg">No hay profesores por el momento para este curso.</p>
        </div>
     </div>
    </ng-template>
    
    <!--Galería-->
    <div class="mb-10">
      <div class="bg-[#043D3D] rounded-lg">
        <h2 class="text-xl font-semibold font-poppins py-2 px-2 text-white uppercase mb-3">
          Galería de Imágenes
        </h2>
      </div>
    </div>
    
    <ngx-masonry class="mx-auto" *ngIf="curso!.imagenes_generales && curso!.imagenes_generales.length > 0; else noImages">
      <div ngxMasonryItem class="masonry-item p-2 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5" *ngFor="let imagen of curso!.imagenes_generales">
        <img [src]="getImageUrl(imagen)" alt="imagen1" class="w-full h-auto rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 ease-in-out">
      </div>
    </ngx-masonry>
    
    <ng-template #noImages>
      <div class="container max-w-screen-lg mb-12 space-y-4">
        <div class="mt-8 p-4 bg-gray-100 rounded-lg text-center shadow-lg">
        <p class="text-gray-600 text-lg">No hay imágenes disponibles en la galería.</p>
        </div>
     </div>
    </ng-template>
    

    <!--Eventos-->
    <div class="mb-10">
      <div class="bg-[#043D3D] rounded-lg">
        <h2 class="text-xl font-semibold font-poppins py-2 px-2 text-white uppercase mb-3">
          Eventos
        </h2>
      </div>
    </div>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-10" *ngIf="eventos.length > 0; else noEvents">
      <div *ngFor="let evento of eventos" class="flex flex-col bg-white border shadow-sm rounded-xl">
        <img 
          class="w-full h-48 object-cover rounded-t-xl" 
          [src]="getImageUrl(evento.imagen_principal || '')" 
          [alt]="evento.titulo"
        >
        <div class="p-4 md:p-5 flex-grow">
          <h3 class="text-lg font-bold text-gray-800">
            {{ evento.titulo }}
          </h3>
          <p class="mt-1 text-gray-500">
            {{ evento.informacion_evento }}
          </p>
          <p class="mt-5 text-xs text-gray-500">
            {{ evento.fecha_inicio | date }} - {{ evento.fecha_fin | date }}
          </p>
        </div>
      </div>
    </div>
    
    <ng-template #noEvents>
      <div class="container max-w-screen-lg mb-12 space-y-4">
        <div class="mt-8 p-4 bg-gray-100 rounded-lg text-center shadow-lg">
        <p class="text-gray-600 text-lg">No hay eventos disponibles para este curso.</p>
        </div>
     </div>
    </ng-template>
    
      

  </section>
</div>
  </main>
<!--Inicio componente Footer-->
<app-footer></app-footer>
<!--Fin Footer-->
</div>