  <!-- Componente Navbar -->
  <app-navbar></app-navbar>
<app-redes-sociales></app-redes-sociales>

  <p id="inicio"></p>

  <!-- Botón de desplazamiento -->
  <button id="scrollTopButton" (click)="scrollToSection('inicio')"
      class="hidden z-50 fixed bottom-5 left-1/2 transform -translate-x-1/2 bg-secondary-color text-white w-12 h-12 rounded-full shadow-lg hover:bg-[#43A094] hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 transition-all duration-300 ease-in-out">
      <i class="fa-solid fa-chevron-up"></i>
  </button>

  <!-- Contenedor principal flexible -->
  <div class="flex flex-col min-h-screen animate-fade-in">
    <!-- Contenido principal -->
    <main class="flex-grow">
      <ol class="flex items-center whitespace-nowrap ml-4 mt-28">
        <li class="inline-flex items-center">
          <a class="flex items-center text-sm text-gray-500 hover:text-primary-color focus:outline-none focus:text-primary-color transition-colors duration-300" href="/principal">
            Inicio
          </a>
          <svg class="flex-shrink-0 mx-2 overflow-visible size-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24"
            height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round">
            <path d="m9 18 6-6-6-6"></path>
          </svg>
        </li>
        <li class="inline-flex items-center">
          <a class="flex items-center text-sm text-gray-500 hover:text-primary-color focus:outline-none focus:text-primary-color transition-colors duration-300" href="/cursos">
            Cursos
            <svg class="flex-shrink-0 mx-2 overflow-visible size-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24"
              height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round">
              <path d="m9 18 6-6-6-6"></path>
            </svg>
          </a>
        </li>
        <li class="inline-flex items-center text-sm font-semibold text-primary-color truncate" aria-current="page">
          {{ curso?.nombre }}
        </li>
      </ol>

      <!-- Sección principal del curso -->
      <div class="container">
        <section class="sm:mt-6 lg:mt-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">


<!-- Skeleton de la sección principal del curso -->
<div *ngIf="isLoading" class="flex flex-col md:flex-row gap-8 mt-6">
  <!-- Skeleton de la descripción y el botón -->
  <div class="md:w-2/3 space-y-4">
    <div class="h-4 bg-gray-200 rounded"></div>
    <div class="h-4 bg-gray-200 rounded"></div>
    <div class="h-4 bg-gray-200 rounded"></div>
    <div class="w-24 h-6 bg-gray-200 rounded mt-4"></div>
  </div>

  <!-- Skeleton de la imagen del curso -->
  <div class="md:w-1/3 h-48 bg-gray-200 rounded-md"></div>
</div>

<!-- Skeleton para la sección de Profesores -->
<div *ngIf="isLoading" class="mt-10">
  <div class="h-8 w-full bg-gray-200 rounded mb-4"></div>
  <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
    <div *ngFor="let _ of [1,2,3]" class="space-y-2">
      <div class="w-24 h-24 bg-gray-200 rounded-full mx-auto"></div>
      <div class="h-4 w-16 bg-gray-200 rounded mx-auto"></div>
      <div class="h-4 w-24 bg-gray-200 rounded mx-auto"></div>
    </div>
    <!-- Agrega más elementos de carga según sea necesario -->
  </div>
</div>

<!-- Skeleton para la Galería de Imágenes -->
<div *ngIf="isLoading" class="mt-10">
  <div class="h-8 w-full bg-gray-200 rounded mb-4"></div>
  <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
    <div *ngFor="let _ of [1, 2, 3]" class="flex flex-col items-center justify-center w-full h-32 bg-gray-200 rounded">
      <!-- Espacio central para el SVG -->
      <div class="flex items-center justify-center w-12 h-12">
        <!-- Agrega tu SVG aquí -->
        <svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full text-gray-400" fill="currentColor" viewBox="0 0 512 512">
          <path d="M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l96 0 32 0 208 0c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"/></svg>
      </div>
    </div>
  </div>
</div>

<!-- Skeleton para la sección de Eventos -->
<div *ngIf="isLoading" class="mt-10">
  <div class="h-8 w-full bg-gray-200 rounded mb-4"></div>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
    <div class="space-y-2 bg-white border shadow-sm rounded-xl p-4">
      <div class="w-full h-32 bg-gray-200 rounded-t"></div>
      <div class="h-4 w-3/4 bg-gray-200 rounded"></div>
      <div class="h-4 w-1/2 bg-gray-200 rounded"></div>
      <div class="h-4 w-1/3 bg-gray-200 rounded"></div>
    </div>
  </div>
</div>

          
          <div *ngIf="!isLoading" class="mt-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 animate-fade-up">
            <!-- Título del curso -->
            <h1 class="text-4xl tracking-tight font-extrabold text-gray-800 sm:text-5xl md:text-6xl transition-all duration-500 ease-in-out mb-8">
              <span class="block xl:inline">{{ curso?.nombre || 'Nombre del curso' }}</span>
            </h1>
            
            <!-- Contenedor flex para imagen y descripción -->
            <div class="flex flex-col md:flex-row gap-8">
              <!-- Descripción del curso -->
              <div class="md:w-2/3 order-2 md:order-1">
                <div class="relative">
                  <p class="text-gray-500 text-justify" [ngClass]="{'max-h-48 overflow-hidden': !mostrarTextoCompleto && (curso?.descripcion?.length || 0) > 200}">
                    {{ curso?.descripcion || 'Este es el contenido adicional si el texto es más largo. El texto fluirá junto a la imagen y continuará debajo si es necesario. Puedes agregar mucho contenido aquí y observar cómo se ajusta automáticamente.' }}
                  </p>
                  <div *ngIf="!mostrarTextoCompleto && (curso?.descripcion?.length || 0) > 200" 
                       class="absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white to-transparent">
                  </div>
                </div>
                <button *ngIf="(curso?.descripcion?.length || 0) > 200" 
                        (click)="toggleMostrarTextoCompleto()" 
                        class="mt-4 text-secondary-color hover:text-primary-color transition-colors duration-300 focus:outline-none">
                  {{ mostrarTextoCompleto ? 'Ver menos' : 'Ver más' }}
                </button>
              </div>
              
              <!-- Imagen del curso -->
              <div class="md:w-1/3 flex-shrink-0 order-1 md:order-2">
                <img class="w-full h-auto object-cover rounded-md shadow-lg hover:shadow-xl transition-shadow duration-300 ease-in-out"
                     [src]="base + curso?.imagen_principal || 'ruta/de/imagen/por/defecto.jpg'"
                     [alt]="curso?.nombre || 'Imagen del curso'" />
              </div>
            </div>
          </div>
        </section>
        
    
          <!-- Sección de Profesores -->
            <div *ngIf="!isLoading" class="mb-10 mt-12">
              <div class="bg-primary-color rounded-lg">
                <h2 class="text-xl font-semibold font-poppins py-2 px-2 text-white uppercase mb-3">
                  Profesores del curso
                </h2>
              </div>
            </div>

            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 mb-10 animate-fade-up" *ngIf="!isLoading && profesores.length > 0; else noTeacher">
              <div *ngFor="let profesor of profesores" class="flex flex-col items-center text-center">
                <img class="w-40 h-40 rounded-full object-cover shadow-md" [src]="getImageUrl(profesor.foto || 'paginaut/src/assets/img/perfil_vacio_2.png')"
                  [alt]="profesor.nombre">
                <p class="text-center text-gray-800 mt-2 font-semibold">{{ profesor.nombre }} {{ profesor.apellido }}</p>
                <p class="text-center text-gray-600">{{ profesor.especialidad }}</p>
              </div>
            </div>

            <ng-template #noTeacher>
              <div *ngIf="!isLoading" class="container max-w-screen-lg mb-12 space-y-4">
                <div class="mt-8 p-4 bg-gray-100 rounded-lg text-center shadow-lg">
                  <p class="text-gray-600 text-lg">No hay profesores por el momento para este curso.</p>
                </div>
              </div>
            </ng-template>

            <!-- Galería de Imágenes -->
            <div *ngIf="!isLoading" class="mb-10">
              <div class="bg-primary-color rounded-lg">
                <h2 class="text-xl font-semibold font-poppins py-2 px-2 text-white uppercase mb-3">
                  Galería de Imágenes
                </h2>
              </div>
            </div>

            <ngx-masonry class="mx-auto" *ngIf="!isLoading && curso && curso!.imagenes_generales && curso!.imagenes_generales.length > 0; else noImages">
              <div ngxMasonryItem class="masonry-item p-2 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5"
                *ngFor="let imagen of curso!.imagenes_generales">
                <img [src]="base + imagen" alt="imagen1" class="w-full h-auto rounded-lg shadow-md hover:shadow-xl">
              </div>
            </ngx-masonry>

            <ng-template #noImages>
              <div *ngIf="!isLoading" class="container max-w-screen-lg mb-12 space-y-4">
                <div class="mt-8 p-4 bg-gray-100 rounded-lg text-center shadow-lg">
                  <p class="text-gray-600 text-lg">No hay imágenes disponibles en la galería.</p>
                </div>
              </div>
            </ng-template>

            <!-- Sección de Eventos -->
            <div *ngIf="!isLoading" class="mb-10">
              <div class="bg-primary-color rounded-lg">
                <h2 class="text-xl font-semibold font-poppins py-2 px-2 text-white uppercase mb-3">
                  Eventos
                </h2>
              </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-10 animate-fade-up" *ngIf="!isLoading && eventos.length > 0; else noEvents">
              <div (click)="verEvento(evento.id)" *ngFor="let evento of eventos"
                class="flex flex-col bg-white border shadow-sm rounded-xl cursor-pointer hover:shadow-lg transition-shadow duration-300 ease-in-out">
                <img class="w-full h-48 object-cover rounded-t-xl" [src]="base + evento.imagen_principal || ''"
                  [alt]="evento.titulo">
                <div class="p-4 md:p-5 flex-grow">
                  <h3 class="text-lg font-bold text-gray-800 transition-colors duration-300 ease-in-out hover:text-secondary-color">
                    {{ evento.titulo }}
                  </h3>
                  <p class="mt-1 text-gray-500 line-clamp-4">
                    {{ evento.informacion_evento }}
                  </p>
                  <p class="mt-5 text-xs text-gray-500">
                    {{ evento.fecha_inicio | date }} - {{ evento.fecha_fin | date }}
                  </p>
                </div>
              </div>
            </div>

            <ng-template #noEvents>
              <div *ngIf="!isLoading" class="container max-w-screen-lg mb-12 space-y-4">
                <div class="mt-8 p-4 bg-gray-100 rounded-lg text-center shadow-lg">
                  <p class="text-gray-600 text-lg">No hay eventos disponibles para este curso.</p>
                </div>
              </div>
            </ng-template>
          </div>

    </main>
    <!-- Footer -->
  <app-footer></app-footer>
  </div>
